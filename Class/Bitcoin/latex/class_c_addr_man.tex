\hypertarget{class_c_addr_man}{}\section{C\+Addr\+Man Class Reference}
\label{class_c_addr_man}\index{C\+Addr\+Man@{C\+Addr\+Man}}


{\ttfamily \#include $<$addrman.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Stream $>$ }\\void \hyperlink{class_c_addr_man_a88d4327f77fa70d9a88917897c3c6c97}{Serialize} (Stream \&s, int n\+Type, int n\+Version\+Dummy) const 
\item 
{\footnotesize template$<$typename Stream $>$ }\\void \hyperlink{class_c_addr_man_a68eaf1797ecb8bff380aa7f9fc452e14}{Unserialize} (Stream \&s, int n\+Type, int n\+Version\+Dummy)
\item 
unsigned int \hyperlink{class_c_addr_man_aa2266bea9d5336b0a93fe703a8601e55}{Get\+Serialize\+Size} (int n\+Type, int n\+Version) const 
\item 
void \hyperlink{class_c_addr_man_a53c27520b7f8c6fa817c2fa869dd4e25}{Clear} ()
\item 
\hyperlink{class_c_addr_man_ad9179d1c36c2ea3492e221576f340d33}{C\+Addr\+Man} ()
\item 
\hyperlink{class_c_addr_man_ae1b1838e4de4effbc1fbc888126a9352}{$\sim$\+C\+Addr\+Man} ()
\item 
int \hyperlink{class_c_addr_man_a15b8e72f55344b6fbd1bc1bda3cdc5bc}{size} ()
\begin{DoxyCompactList}\small\item\em Return the number of (unique) addresses in all tables. \end{DoxyCompactList}\item 
void \hyperlink{class_c_addr_man_a0c2677ae50ce0d680f0105b285d1f5d0}{Check} ()
\begin{DoxyCompactList}\small\item\em Consistency check. \end{DoxyCompactList}\item 
bool \hyperlink{class_c_addr_man_a03fcc7109b5f014760dc50a81f68c5ec}{Add} (const \hyperlink{class_c_address}{C\+Address} \&addr, const \hyperlink{class_c_net_addr}{C\+Net\+Addr} \&source, int64\+\_\+t n\+Time\+Penalty=0)
\begin{DoxyCompactList}\small\item\em Add a single address. \end{DoxyCompactList}\item 
bool \hyperlink{class_c_addr_man_aa2ae2abdf710b2d81fa37f072bab028e}{Add} (const std\+::vector$<$ \hyperlink{class_c_address}{C\+Address} $>$ \&v\+Addr, const \hyperlink{class_c_net_addr}{C\+Net\+Addr} \&source, int64\+\_\+t n\+Time\+Penalty=0)
\begin{DoxyCompactList}\small\item\em Add multiple addresses. \end{DoxyCompactList}\item 
void \hyperlink{class_c_addr_man_a993e80e74701d7bc6bb49880c387b847}{Good} (const \hyperlink{class_c_service}{C\+Service} \&addr, int64\+\_\+t n\+Time=\hyperlink{timedata_8h_a09f81b9c7650f898cf3cf305b87547e6}{Get\+Adjusted\+Time}())
\begin{DoxyCompactList}\small\item\em Mark an entry as accessible. \end{DoxyCompactList}\item 
void \hyperlink{class_c_addr_man_afcddc2573121065177dc981cea710789}{Attempt} (const \hyperlink{class_c_service}{C\+Service} \&addr, int64\+\_\+t n\+Time=\hyperlink{timedata_8h_a09f81b9c7650f898cf3cf305b87547e6}{Get\+Adjusted\+Time}())
\begin{DoxyCompactList}\small\item\em Mark an entry as connection attempted to. \end{DoxyCompactList}\item 
\hyperlink{class_c_addr_info}{C\+Addr\+Info} \hyperlink{class_c_addr_man_a40033486ee621d5f858748e5454222e2}{Select} ()
\item 
std\+::vector$<$ \hyperlink{class_c_address}{C\+Address} $>$ \hyperlink{class_c_addr_man_a69cc6138e696cf88de60925d26023bf2}{Get\+Addr} ()
\begin{DoxyCompactList}\small\item\em Return a bunch of addresses, selected at random. \end{DoxyCompactList}\item 
void \hyperlink{class_c_addr_man_a7aba66d9e9527522fed974567d34c322}{Connected} (const \hyperlink{class_c_service}{C\+Service} \&addr, int64\+\_\+t n\+Time=\hyperlink{timedata_8h_a09f81b9c7650f898cf3cf305b87547e6}{Get\+Adjusted\+Time}())
\begin{DoxyCompactList}\small\item\em Mark an entry as currently-\/connected-\/to. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_c_addr_info}{C\+Addr\+Info} $\ast$ \hyperlink{class_c_addr_man_ac961ead1a1afde144fc486b6d7c7369d}{Find} (const \hyperlink{class_c_net_addr}{C\+Net\+Addr} \&addr, int $\ast$pn\+Id=N\+U\+L\+L)
\begin{DoxyCompactList}\small\item\em Find an entry. \end{DoxyCompactList}\item 
\hyperlink{class_c_addr_info}{C\+Addr\+Info} $\ast$ \hyperlink{class_c_addr_man_aac93f51c0580e38a950a0f63b053bedb}{Create} (const \hyperlink{class_c_address}{C\+Address} \&addr, const \hyperlink{class_c_net_addr}{C\+Net\+Addr} \&addr\+Source, int $\ast$pn\+Id=N\+U\+L\+L)
\item 
void \hyperlink{class_c_addr_man_a3074bc8e3dcfb5348054613f575dc38e}{Swap\+Random} (unsigned int n\+Random\+Pos1, unsigned int n\+Random\+Pos2)
\begin{DoxyCompactList}\small\item\em Swap two elements in v\+Random. \end{DoxyCompactList}\item 
void \hyperlink{class_c_addr_man_a98e8383efb48b7c2932795438f35a10a}{Make\+Tried} (\hyperlink{class_c_addr_info}{C\+Addr\+Info} \&info, int n\+Id)
\begin{DoxyCompactList}\small\item\em Move an entry from the \char`\"{}new\char`\"{} table(s) to the \char`\"{}tried\char`\"{} table. \end{DoxyCompactList}\item 
void \hyperlink{class_c_addr_man_af488eac123030538770dbc4e3b16eb74}{Delete} (int n\+Id)
\begin{DoxyCompactList}\small\item\em Delete an entry. It must not be in tried, and have refcount 0. \end{DoxyCompactList}\item 
void \hyperlink{class_c_addr_man_ab283de3e750f006c85573976bd40da81}{Clear\+New} (int n\+U\+Bucket, int n\+U\+Bucket\+Pos)
\begin{DoxyCompactList}\small\item\em Clear a position in a \char`\"{}new\char`\"{} table. This is the only place where entries are actually deleted. \end{DoxyCompactList}\item 
void \hyperlink{class_c_addr_man_a33ec6a4584cf4b17af821e6e35216459}{Good\+\_\+} (const \hyperlink{class_c_service}{C\+Service} \&addr, int64\+\_\+t n\+Time)
\begin{DoxyCompactList}\small\item\em Mark an entry \char`\"{}good\char`\"{}, possibly moving it from \char`\"{}new\char`\"{} to \char`\"{}tried\char`\"{}. \end{DoxyCompactList}\item 
bool \hyperlink{class_c_addr_man_a9dd6df8b1904548a86054d19d4a90724}{Add\+\_\+} (const \hyperlink{class_c_address}{C\+Address} \&addr, const \hyperlink{class_c_net_addr}{C\+Net\+Addr} \&source, int64\+\_\+t n\+Time\+Penalty)
\begin{DoxyCompactList}\small\item\em Add an entry to the \char`\"{}new\char`\"{} table. \end{DoxyCompactList}\item 
void \hyperlink{class_c_addr_man_ab1a1bfa8b435ef139570c88de1a5245f}{Attempt\+\_\+} (const \hyperlink{class_c_service}{C\+Service} \&addr, int64\+\_\+t n\+Time)
\begin{DoxyCompactList}\small\item\em Mark an entry as attempted to connect. \end{DoxyCompactList}\item 
\hyperlink{class_c_addr_info}{C\+Addr\+Info} \hyperlink{class_c_addr_man_ad354e94672ff88f8f420ebc2e05f21a6}{Select\+\_\+} ()
\item 
void \hyperlink{class_c_addr_man_aff86d04dc7c0e0afae3ff5998417db17}{Get\+Addr\+\_\+} (std\+::vector$<$ \hyperlink{class_c_address}{C\+Address} $>$ \&v\+Addr)
\begin{DoxyCompactList}\small\item\em Select several addresses at once. \end{DoxyCompactList}\item 
void \hyperlink{class_c_addr_man_a1ae72643c51293f3f3345e74ce0368ca}{Connected\+\_\+} (const \hyperlink{class_c_service}{C\+Service} \&addr, int64\+\_\+t n\+Time)
\begin{DoxyCompactList}\small\item\em Mark an entry as currently-\/connected-\/to. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Stochastical (I\+P) address manager 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_c_addr_man_ad9179d1c36c2ea3492e221576f340d33}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!C\+Addr\+Man@{C\+Addr\+Man}}
\index{C\+Addr\+Man@{C\+Addr\+Man}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{C\+Addr\+Man}]{\setlength{\rightskip}{0pt plus 5cm}C\+Addr\+Man\+::\+C\+Addr\+Man (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_ad9179d1c36c2ea3492e221576f340d33}
\hypertarget{class_c_addr_man_ae1b1838e4de4effbc1fbc888126a9352}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!````~C\+Addr\+Man@{$\sim$\+C\+Addr\+Man}}
\index{````~C\+Addr\+Man@{$\sim$\+C\+Addr\+Man}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{$\sim$\+C\+Addr\+Man}]{\setlength{\rightskip}{0pt plus 5cm}C\+Addr\+Man\+::$\sim$\+C\+Addr\+Man (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_ae1b1838e4de4effbc1fbc888126a9352}


\subsection{Member Function Documentation}
\hypertarget{class_c_addr_man_a03fcc7109b5f014760dc50a81f68c5ec}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Add@{Add}}
\index{Add@{Add}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Add}]{\setlength{\rightskip}{0pt plus 5cm}bool C\+Addr\+Man\+::\+Add (
\begin{DoxyParamCaption}
\item[{const {\bf C\+Address} \&}]{addr, }
\item[{const {\bf C\+Net\+Addr} \&}]{source, }
\item[{int64\+\_\+t}]{n\+Time\+Penalty = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_a03fcc7109b5f014760dc50a81f68c5ec}


Add a single address. 

\hypertarget{class_c_addr_man_aa2ae2abdf710b2d81fa37f072bab028e}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Add@{Add}}
\index{Add@{Add}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Add}]{\setlength{\rightskip}{0pt plus 5cm}bool C\+Addr\+Man\+::\+Add (
\begin{DoxyParamCaption}
\item[{const std\+::vector$<$ {\bf C\+Address} $>$ \&}]{v\+Addr, }
\item[{const {\bf C\+Net\+Addr} \&}]{source, }
\item[{int64\+\_\+t}]{n\+Time\+Penalty = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_aa2ae2abdf710b2d81fa37f072bab028e}


Add multiple addresses. 

\hypertarget{class_c_addr_man_a9dd6df8b1904548a86054d19d4a90724}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Add\+\_\+@{Add\+\_\+}}
\index{Add\+\_\+@{Add\+\_\+}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Add\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}bool C\+Addr\+Man\+::\+Add\+\_\+ (
\begin{DoxyParamCaption}
\item[{const {\bf C\+Address} \&}]{addr, }
\item[{const {\bf C\+Net\+Addr} \&}]{source, }
\item[{int64\+\_\+t}]{n\+Time\+Penalty}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_a9dd6df8b1904548a86054d19d4a90724}


Add an entry to the \char`\"{}new\char`\"{} table. 

\hypertarget{class_c_addr_man_afcddc2573121065177dc981cea710789}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Attempt@{Attempt}}
\index{Attempt@{Attempt}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Attempt}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Attempt (
\begin{DoxyParamCaption}
\item[{const {\bf C\+Service} \&}]{addr, }
\item[{int64\+\_\+t}]{n\+Time = {\ttfamily {\bf Get\+Adjusted\+Time}()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_afcddc2573121065177dc981cea710789}


Mark an entry as connection attempted to. 

\hypertarget{class_c_addr_man_ab1a1bfa8b435ef139570c88de1a5245f}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Attempt\+\_\+@{Attempt\+\_\+}}
\index{Attempt\+\_\+@{Attempt\+\_\+}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Attempt\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Attempt\+\_\+ (
\begin{DoxyParamCaption}
\item[{const {\bf C\+Service} \&}]{addr, }
\item[{int64\+\_\+t}]{n\+Time}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_ab1a1bfa8b435ef139570c88de1a5245f}


Mark an entry as attempted to connect. 

\hypertarget{class_c_addr_man_a0c2677ae50ce0d680f0105b285d1f5d0}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Check@{Check}}
\index{Check@{Check}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Check}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Check (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_a0c2677ae50ce0d680f0105b285d1f5d0}


Consistency check. 

\hypertarget{class_c_addr_man_a53c27520b7f8c6fa817c2fa869dd4e25}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Clear@{Clear}}
\index{Clear@{Clear}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Clear}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Clear (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_a53c27520b7f8c6fa817c2fa869dd4e25}
\hypertarget{class_c_addr_man_ab283de3e750f006c85573976bd40da81}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Clear\+New@{Clear\+New}}
\index{Clear\+New@{Clear\+New}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Clear\+New}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Clear\+New (
\begin{DoxyParamCaption}
\item[{int}]{n\+U\+Bucket, }
\item[{int}]{n\+U\+Bucket\+Pos}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_ab283de3e750f006c85573976bd40da81}


Clear a position in a \char`\"{}new\char`\"{} table. This is the only place where entries are actually deleted. 

\hypertarget{class_c_addr_man_a7aba66d9e9527522fed974567d34c322}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Connected@{Connected}}
\index{Connected@{Connected}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Connected}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Connected (
\begin{DoxyParamCaption}
\item[{const {\bf C\+Service} \&}]{addr, }
\item[{int64\+\_\+t}]{n\+Time = {\ttfamily {\bf Get\+Adjusted\+Time}()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_a7aba66d9e9527522fed974567d34c322}


Mark an entry as currently-\/connected-\/to. 

\hypertarget{class_c_addr_man_a1ae72643c51293f3f3345e74ce0368ca}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Connected\+\_\+@{Connected\+\_\+}}
\index{Connected\+\_\+@{Connected\+\_\+}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Connected\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Connected\+\_\+ (
\begin{DoxyParamCaption}
\item[{const {\bf C\+Service} \&}]{addr, }
\item[{int64\+\_\+t}]{n\+Time}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_a1ae72643c51293f3f3345e74ce0368ca}


Mark an entry as currently-\/connected-\/to. 

\hypertarget{class_c_addr_man_aac93f51c0580e38a950a0f63b053bedb}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Create@{Create}}
\index{Create@{Create}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Create}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\+Addr\+Info} $\ast$ C\+Addr\+Man\+::\+Create (
\begin{DoxyParamCaption}
\item[{const {\bf C\+Address} \&}]{addr, }
\item[{const {\bf C\+Net\+Addr} \&}]{addr\+Source, }
\item[{int $\ast$}]{pn\+Id = {\ttfamily NULL}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_aac93f51c0580e38a950a0f63b053bedb}
find an entry, creating it if necessary. n\+Time and n\+Services of the found node are updated, if necessary. \hypertarget{class_c_addr_man_af488eac123030538770dbc4e3b16eb74}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Delete@{Delete}}
\index{Delete@{Delete}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Delete}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Delete (
\begin{DoxyParamCaption}
\item[{int}]{n\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_af488eac123030538770dbc4e3b16eb74}


Delete an entry. It must not be in tried, and have refcount 0. 

\hypertarget{class_c_addr_man_ac961ead1a1afde144fc486b6d7c7369d}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Find@{Find}}
\index{Find@{Find}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Find}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\+Addr\+Info} $\ast$ C\+Addr\+Man\+::\+Find (
\begin{DoxyParamCaption}
\item[{const {\bf C\+Net\+Addr} \&}]{addr, }
\item[{int $\ast$}]{pn\+Id = {\ttfamily NULL}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_ac961ead1a1afde144fc486b6d7c7369d}


Find an entry. 

\hypertarget{class_c_addr_man_a69cc6138e696cf88de60925d26023bf2}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Get\+Addr@{Get\+Addr}}
\index{Get\+Addr@{Get\+Addr}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Get\+Addr}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf C\+Address}$>$ C\+Addr\+Man\+::\+Get\+Addr (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_a69cc6138e696cf88de60925d26023bf2}


Return a bunch of addresses, selected at random. 

\hypertarget{class_c_addr_man_aff86d04dc7c0e0afae3ff5998417db17}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Get\+Addr\+\_\+@{Get\+Addr\+\_\+}}
\index{Get\+Addr\+\_\+@{Get\+Addr\+\_\+}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Get\+Addr\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Get\+Addr\+\_\+ (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ {\bf C\+Address} $>$ \&}]{v\+Addr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_aff86d04dc7c0e0afae3ff5998417db17}


Select several addresses at once. 

\hypertarget{class_c_addr_man_aa2266bea9d5336b0a93fe703a8601e55}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Get\+Serialize\+Size@{Get\+Serialize\+Size}}
\index{Get\+Serialize\+Size@{Get\+Serialize\+Size}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Get\+Serialize\+Size}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int C\+Addr\+Man\+::\+Get\+Serialize\+Size (
\begin{DoxyParamCaption}
\item[{int}]{n\+Type, }
\item[{int}]{n\+Version}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_aa2266bea9d5336b0a93fe703a8601e55}
\hypertarget{class_c_addr_man_a993e80e74701d7bc6bb49880c387b847}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Good@{Good}}
\index{Good@{Good}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Good}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Good (
\begin{DoxyParamCaption}
\item[{const {\bf C\+Service} \&}]{addr, }
\item[{int64\+\_\+t}]{n\+Time = {\ttfamily {\bf Get\+Adjusted\+Time}()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_a993e80e74701d7bc6bb49880c387b847}


Mark an entry as accessible. 

\hypertarget{class_c_addr_man_a33ec6a4584cf4b17af821e6e35216459}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Good\+\_\+@{Good\+\_\+}}
\index{Good\+\_\+@{Good\+\_\+}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Good\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Good\+\_\+ (
\begin{DoxyParamCaption}
\item[{const {\bf C\+Service} \&}]{addr, }
\item[{int64\+\_\+t}]{n\+Time}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_a33ec6a4584cf4b17af821e6e35216459}


Mark an entry \char`\"{}good\char`\"{}, possibly moving it from \char`\"{}new\char`\"{} to \char`\"{}tried\char`\"{}. 

\hypertarget{class_c_addr_man_a98e8383efb48b7c2932795438f35a10a}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Make\+Tried@{Make\+Tried}}
\index{Make\+Tried@{Make\+Tried}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Make\+Tried}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Make\+Tried (
\begin{DoxyParamCaption}
\item[{{\bf C\+Addr\+Info} \&}]{info, }
\item[{int}]{n\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_a98e8383efb48b7c2932795438f35a10a}


Move an entry from the \char`\"{}new\char`\"{} table(s) to the \char`\"{}tried\char`\"{} table. 

\hypertarget{class_c_addr_man_a40033486ee621d5f858748e5454222e2}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Select@{Select}}
\index{Select@{Select}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Select}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\+Addr\+Info} C\+Addr\+Man\+::\+Select (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_a40033486ee621d5f858748e5454222e2}
Choose an address to connect to. n\+Unk\+Bias determines how much \char`\"{}new\char`\"{} entries are favored over \char`\"{}tried\char`\"{} ones (0-\/100). \hypertarget{class_c_addr_man_ad354e94672ff88f8f420ebc2e05f21a6}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Select\+\_\+@{Select\+\_\+}}
\index{Select\+\_\+@{Select\+\_\+}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Select\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\+Addr\+Info} C\+Addr\+Man\+::\+Select\+\_\+ (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_ad354e94672ff88f8f420ebc2e05f21a6}
Select an address to connect to. n\+Unk\+Bias determines how much to favor new addresses over tried ones (min=0, max=100) \hypertarget{class_c_addr_man_a88d4327f77fa70d9a88917897c3c6c97}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Serialize@{Serialize}}
\index{Serialize@{Serialize}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Serialize}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Stream $>$ void C\+Addr\+Man\+::\+Serialize (
\begin{DoxyParamCaption}
\item[{Stream \&}]{s, }
\item[{int}]{n\+Type, }
\item[{int}]{n\+Version\+Dummy}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_a88d4327f77fa70d9a88917897c3c6c97}
serialized format\+:
\begin{DoxyItemize}
\item version byte (currently 1)
\item 0x20 + n\+Key (serialized as if it were a vector, for backward compatibility)
\item n\+New
\item n\+Tried
\item number of \char`\"{}new\char`\"{} buckets X\+O\+R 2$\ast$$\ast$30
\item all n\+New addrinfos in vv\+New
\item all n\+Tried addrinfos in vv\+Tried
\item for each bucket\+:
\begin{DoxyItemize}
\item number of elements
\item for each element\+: index
\end{DoxyItemize}
\end{DoxyItemize}

2$\ast$$\ast$30 is xorred with the number of buckets to make addrman deserializer v0 detect it as incompatible. This is necessary because it did not check the version number on deserialization.

Notice that vv\+Tried, map\+Addr and v\+Vector are never encoded explicitly; they are instead reconstructed from the other information.

vv\+New is serialized, but only used if A\+D\+D\+R\+M\+A\+N\+\_\+\+U\+N\+K\+O\+W\+N\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+C\+O\+U\+N\+T didn\textquotesingle{}t change, otherwise it is reconstructed as well.

This format is more complex, but significantly smaller (at most 1.\+5 Mi\+B), and supports changes to the A\+D\+D\+R\+M\+A\+N\+\_\+ parameters without breaking the on-\/disk structure.

We don\textquotesingle{}t use A\+D\+D\+\_\+\+S\+E\+R\+I\+A\+L\+I\+Z\+E\+\_\+\+M\+E\+T\+H\+O\+D\+S since the serialization and deserialization code has very little in common. \hypertarget{class_c_addr_man_a15b8e72f55344b6fbd1bc1bda3cdc5bc}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!size@{size}}
\index{size@{size}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{size}]{\setlength{\rightskip}{0pt plus 5cm}int C\+Addr\+Man\+::size (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_a15b8e72f55344b6fbd1bc1bda3cdc5bc}


Return the number of (unique) addresses in all tables. 

\hypertarget{class_c_addr_man_a3074bc8e3dcfb5348054613f575dc38e}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Swap\+Random@{Swap\+Random}}
\index{Swap\+Random@{Swap\+Random}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Swap\+Random}]{\setlength{\rightskip}{0pt plus 5cm}void C\+Addr\+Man\+::\+Swap\+Random (
\begin{DoxyParamCaption}
\item[{unsigned int}]{n\+Random\+Pos1, }
\item[{unsigned int}]{n\+Random\+Pos2}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\label{class_c_addr_man_a3074bc8e3dcfb5348054613f575dc38e}


Swap two elements in v\+Random. 

\hypertarget{class_c_addr_man_a68eaf1797ecb8bff380aa7f9fc452e14}{}\index{C\+Addr\+Man@{C\+Addr\+Man}!Unserialize@{Unserialize}}
\index{Unserialize@{Unserialize}!C\+Addr\+Man@{C\+Addr\+Man}}
\subsubsection[{Unserialize}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Stream $>$ void C\+Addr\+Man\+::\+Unserialize (
\begin{DoxyParamCaption}
\item[{Stream \&}]{s, }
\item[{int}]{n\+Type, }
\item[{int}]{n\+Version\+Dummy}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_c_addr_man_a68eaf1797ecb8bff380aa7f9fc452e14}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Joe/\+Documents/\+School/\+C\+S\+C17\+A/bitcoin/src/\hyperlink{addrman_8h}{addrman.\+h}\item 
C\+:/\+Users/\+Joe/\+Documents/\+School/\+C\+S\+C17\+A/bitcoin/src/\hyperlink{addrman_8cpp}{addrman.\+cpp}\end{DoxyCompactItemize}
